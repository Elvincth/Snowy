/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
const{h:n}=window.Ionic;let e=0;function t(n,t){const o=n.ownerDocument;!function(n){0===e&&(e=1,n.addEventListener("ionBackButton",e=>{e.detail.register(100,()=>i(n))}),n.addEventListener("keyup",e=>{"Escape"===e.key&&i(n)}))}(o),Object.assign(n,t),n.classList.add("ion-page-invisible");const a=e++;return n.overlayIndex=a,n.hasAttribute("id")||(n.id=`ion-overlay-${a}`),c(o).appendChild(n),n.componentOnReady()}function i(n){const e=a(n);return e&&e.backdropDismiss?e.dismiss(void 0,m):Promise.resolve()}function o(n,e,t,i,o){const s=a(n,i,o);return s?s.dismiss(e,t):Promise.reject("overlay does not exist")}function a(n,e,t){const i=function(n,e){const t=Array.from(c(n).children);return void 0===e?t:(e=e.toUpperCase(),t.filter(n=>n.tagName===e))}(n,e);return void 0===t?i[i.length-1]:i.find(n=>n.id===t)}async function s(n,e,t,i,o){if(n.presented)return;n.presented=!0,n.willPresent.emit();const a=n.enterAnimation?n.enterAnimation:n.config.get(e,"ios"===n.mode?t:i);await d(n,a,n.el,o)&&n.didPresent.emit()}async function r(n,e,t,i,o,a,s){if(!n.presented)return!1;n.presented=!1;try{n.willDismiss.emit({data:e,role:t});const r=n.leaveAnimation?n.leaveAnimation:n.config.get(i,"ios"===n.mode?o:a);await d(n,r,n.el,s),n.didDismiss.emit({data:e,role:t})}catch(n){console.error(n)}return n.el.remove(),!0}function c(n){return n.querySelector("ion-app")||n.body}async function d(n,e,t,i){if(n.animation)return n.animation.destroy(),n.animation=void 0,!1;{t.classList.remove("ion-page-invisible");const o=t.shadowRoot||n.el,a=n.animation=await n.animationCtrl.create(e,o,i);return n.animation=a,n.animated||a.duration(0),n.keyboardClose&&a.beforeAddWrite(()=>{const n=t.ownerDocument.activeElement;n&&n.matches("input, ion-input, ion-textarea")&&n.blur()}),await a.playAsync(),a.destroy(),n.animation=void 0,a.hasCompleted}}function u(n,e){let t;const i=new Promise(n=>t=n);return function(n,e,i){const o=i=>{n.removeEventListener(e,o),(n=>{t(n.detail)})(i)};n.addEventListener(e,o)}(n,e),i}function l(n){return"cancel"===n||n===m}const m="backdrop";function f(){const n=window.TapticEngine;n&&n.selection()}function p(){const n=window.TapticEngine;n&&n.gestureSelectionStart()}function v(){const n=window.TapticEngine;n&&n.gestureSelectionChanged()}function w(){const n=window.TapticEngine;n&&n.gestureSelectionEnd()}export{m as a,r as b,u as c,l as d,s as e,t as f,o as g,a as h,v as i,w as j,p as k,f as l};